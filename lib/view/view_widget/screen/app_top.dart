import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:marie_app/view/view_widget/screen/common_widget/mypage/my_page.dart';import '../../../model/repository/calculate.dart';import '../../../providers.dart';import '../parts/app_bar.dart';import '../parts/drawer.dart';import '../parts/modal.dart';import 'common_widget/booking_screen/booking_screen.dart';import 'home_screen.dart';import 'common_widget/searching_screen/searching_screen.dart';/// Appトップ画面［簡易情報表示-売上、バイトメンバー］class AppTop extends ConsumerStatefulWidget {  const AppTop({Key? key}) : super(key: key);  @override  ConsumerState<AppTop> createState() => _AppTopState();}class _AppTopState extends ConsumerState<AppTop> {  //画面「探す,ホーム,お気に入り」  static const _screens = [    Home(),    SearchingScreen(),    BookingScreen(),    MyPage()  ];  int _selectedIndex = 0;  void _onItemTapped(int index) {    // 状態セット    setState(      () {        //通知リスト確認        if (ref.watch(noticeListProvider).isNotEmpty &&            ref.watch(checkedNoticeProvider) == false) {          List<String> notices = ref.watch(noticeListProvider);          Modal.noticeModal(            context,            "確認",            //リスト表示  繰り返し表示(Modalで実装)            "${notices.length}件あります。",            ref,          );        }        //画面選択        _selectedIndex = index;      },    );  }  Calculate calculate = Calculate();  @override  Widget build(BuildContext context) {    return Scaffold(      endDrawer: const CommonDrawer(),      //表示項目　設定ドロワ損益計算グラフ　[勤務メンバー（詳細リンク）,スタンバイメンバー］、客数（滞在時間、使用金額、注文履歴）      appBar: PreferredSize(        preferredSize: const Size.fromHeight(50),        //当日、前日売上amount表示   todo 要件確認  animation(右から流れる表示)        child: CommonDynamicAppbar(          calculate.sumAllDay(ref).toString(),        ),      ),      body: _screens[_selectedIndex],      bottomNavigationBar: BottomNavigationBar(        currentIndex: _selectedIndex,        onTap: _onItemTapped,        selectedItemColor: Colors.deepOrangeAccent,        selectedFontSize: 15,        selectedIconTheme: const IconThemeData(          size: 28 /*選択されている時のアイコンのサイズ*/,        ),        // アクティブIconカラー        unselectedItemColor: Colors.grey,        // 非アクティブIconカラー        items: const <BottomNavigationBarItem>[          BottomNavigationBarItem(icon: Icon(Icons.dashboard), label: 'ホーム'),          BottomNavigationBarItem(              icon: Icon(Icons.search_rounded), label: 'さがす'),          BottomNavigationBarItem(icon: Icon(Icons.bookmark), label: '予約'),          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'MyPage'),          // BottomNavigationBarItem(icon: Icon(Icons.person), label: 'アカウント'),        ],        type: BottomNavigationBarType.fixed,      ),    );  }}